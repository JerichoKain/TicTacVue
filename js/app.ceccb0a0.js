(function(t){function e(e){for(var n,a,o=e[0],l=e[1],u=e[2],f=0,h=[];f<o.length;f++)a=o[f],i[a]&&h.push(i[a][0]),i[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);c&&c(e);while(h.length)h.shift()();return r.push.apply(r,u||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],n=!0,o=1;o<s.length;o++){var l=s[o];0!==i[l]&&(n=!1)}n&&(r.splice(e--,1),t=a(a.s=s[0]))}return t}var n={},i={app:0},r=[];function a(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=n,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(s,n,function(e){return t[e]}.bind(null,n));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/TicTacVue/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var n=s("64a9"),i=s.n(n);i.a},2566:function(t,e,s){"use strict";var n=s("2e5b"),i=s.n(n);i.a},"2e5b":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var n=s("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("img",{attrs:{alt:"Vue logo",src:s("cf05")}}),n("TicTacToe",{on:{win:function(e){t.wins++},draw:function(e){t.draws++},lose:function(e){t.loses++}}}),n("Score",{attrs:{wins:t.wins,draws:t.draws,loses:t.loses}})],1)},r=[],a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("div",{staticClass:"game"},[s("div",{staticClass:"cell",class:t.PlayedClasses("NW"),attrs:{id:"NW"},on:{click:function(e){return t.CrossesMove("NW")}}}),s("div",{staticClass:"cell",class:t.PlayedClasses("N"),attrs:{id:"N"},on:{click:function(e){return t.CrossesMove("N")}}}),s("div",{staticClass:"cell",class:t.PlayedClasses("NE"),attrs:{id:"NE"},on:{click:function(e){return t.CrossesMove("NE")}}}),s("div",{staticClass:"cell",class:t.PlayedClasses("W"),attrs:{id:"W"},on:{click:function(e){return t.CrossesMove("W")}}}),s("div",{staticClass:"cell",class:t.PlayedClasses("C"),attrs:{id:"C"},on:{click:function(e){return t.CrossesMove("C")}}}),s("div",{staticClass:"cell",class:t.PlayedClasses("E"),attrs:{id:"E"},on:{click:function(e){return t.CrossesMove("E")}}}),s("div",{staticClass:"cell",class:t.PlayedClasses("SW"),attrs:{id:"SW"},on:{click:function(e){return t.CrossesMove("SW")}}}),s("div",{staticClass:"cell",class:t.PlayedClasses("S"),attrs:{id:"S"},on:{click:function(e){return t.CrossesMove("S")}}}),s("div",{staticClass:"cell",class:t.PlayedClasses("SE"),attrs:{id:"SE"},on:{click:function(e){return t.CrossesMove("SE")}}})])])},o=[],l=(s("55dd"),s("7514"),s("ac6a"),s("f499")),u=s.n(l),c=(s("6762"),s("2fdb"),["NW","N","NE","W","C","E","SW","S","SE"]),f=[["NW","N","NE"],["W","C","E"],["SW","S","SE"],["NW","W","SW"],["N","C","S"],["NE","E","SE"],["NW","C","SE"],["SW","C","NE"]],h=750,d={name:"TicTacToe",data:function(){return{start:null,available:[],crosses:[],noughts:[]}},created:function(){this.Init()},methods:{PlayedClasses:function(t){var e=[];return this.crosses.includes(t)?e.push("cross"):this.noughts.includes(t)&&e.push("nought"),e},Init:function(){this.start=null,this.available=JSON.parse(u()(c)),this.crosses=[],this.noughts=[]},Reset:function(t){null===this.start&&(this.start=t),t-this.start<h?window.requestAnimationFrame(this.Reset):(this.start=null,this.Init())},PlayMove:function(t,e){var s=this.available.indexOf(e);-1!==s&&null==this.start&&(this.available=this.available.filter(function(t){return t!==e}),t.push(e))},CheckWin:function(t,e){return f.some(function(s){return s.every(function(s){return t.includes(s)||!!e&&e===s})})},CrossesMove:function(t){this.PlayMove(this.crosses,t),this.CheckWin(this.crosses)?(this.$emit("win"),window.requestAnimationFrame(this.Reset)):0===this.available.length?(this.$emit("draw"),window.requestAnimationFrame(this.Reset)):window.requestAnimationFrame(this.NoughtsMove)},PickMove:function(t,e){return t.length>0?t[Math.floor(Math.random()*t.length)][e]:null},GetMustPlayMove:function(t){var e=this,s=t.filter(function(t){return 1===t.length}),n=s.filter(function(t){return e.CheckWin(e.noughts,t[0])}),i=s.filter(function(t){return e.CheckWin(e.crosses,t[0])});return this.PickMove(n,0)||this.PickMove(i,0)},GetCanPlayMove:function(t){var e=this.available.map(function(t){return{square:t,value:0}});t.filter(function(t){return 1!==t.length}).map(function(t){t.forEach(function(t){e.find(function(e){return e.square===t}).value++})}),e.sort(function(t,e){return t.value-e.value}).reverse();var s=e.filter(function(t){return t.value===e[0].value});return this.PickMove(s,"square")},GetNoughtsMoves:function(){var t=this;return f.map(function(e){return e.filter(function(e){return t.available.includes(e)&&!t.crosses.includes(e)})}).filter(function(t){return t.length>0}).sort(function(t,e){return t.length-e.length})},NoughtsMove:function(t){if(null===this.start&&(this.start=t),t-this.start<h)window.requestAnimationFrame(this.NoughtsMove);else{this.start=null;var e=this.GetNoughtsMoves(),s=this.GetMustPlayMove(e)||this.GetCanPlayMove(e);this.PlayMove(this.noughts,s),this.CheckWin(this.noughts)?(this.$emit("lose"),window.requestAnimationFrame(this.Reset)):0===this.available.length&&(this.$emit("draw"),window.requestAnimationFrame(this.Reset))}}}},v=d,p=(s("2566"),s("2877")),C=Object(p["a"])(v,a,o,!1,null,"53d33b0e",null),m=C.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"score"},[s("span",[t._v("Score: "+t._s(t.wins)+"-"+t._s(t.draws)+"-"+t._s(t.loses))])])},g=[],b=(s("c5f6"),{name:"Score",props:{wins:Number,draws:Number,loses:Number}}),M=b,y=Object(p["a"])(M,w,g,!1,null,"020ee0f6",null),S=y.exports,N={name:"app",data:function(){return{wins:0,draws:0,loses:0}},components:{TicTacToe:m,Score:S}},P=N,W=(s("034f"),Object(p["a"])(P,i,r,!1,null,null,null)),E=W.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(E)}}).$mount("#app")},"64a9":function(t,e,s){},cf05:function(t,e,s){t.exports=s.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.ceccb0a0.js.map